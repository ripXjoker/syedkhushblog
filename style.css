:root {
	--bg: 25% 0.0075 70;
	--pink: 77.75% 0.1003 350.51;
	--gold: 84.16% 0.1169 71.19;
	--mint: 84.12% 0.1334 165.28;
    --pink-light-bg: 95% 0.04 350.51;
    --gold-light-bg: 95% 0.05 71.19;
    --mint-light-bg: 95% 0.06 165.28;
    --card-content-bg-default: #f8f8f8; /* Slightly brighter default bg */
	--mobile--w: 360px;
	--mobile--h-min: 480px;
	--outline-w: 9px;
	--preview-bg: #fff;
    --card-content-text-color: #2c3e50;
    --card-illustration-size: 60px; /* NEW: Control illustration size */
    --card-illustration-opacity: 0.6; /* NEW: Control illustration opacity */
}

body { /* ... same as before ... */
	height: 100%;
	background: linear-gradient(
		50deg,
		oklch(from oklch(var(--bg)) 50% c h),
		oklch(from oklch(var(--bg)) 90% c h)
	);
	background-attachment: fixed;
	padding: 3rem 10vw;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    box-sizing: border-box;
}
*, *::before, *::after { box-sizing: inherit; }

.preview__container { /* ... same as before ... */
	display: flex;
	flex-wrap: wrap;
	place-items: start;
	place-content: center;
    gap: 35px;
}

.preview { /* ... same as before, ensure min-height and width are set ... */
	--bg-pos-y--start: 0;
	--bg-pos-y--end: 0;
	--bg-pos-y: var(--bg-pos-y--start);
	--delay: 0;
	--duration: 6s;
	--shadow-blur: 24px;
	--shadow-color: oklch(var(--bg));
	background-clip: padding-box;
	background-image: var(--img);
	background-position-y: var(--bg-pos-y);
	background-repeat: no-repeat;
	background-size: cover;
	background-attachment: fixed;
	border: var(--outline-w) solid var(--border-color, transparent);
	border-radius: 6px;
	box-shadow: 0 0 var(--shadow-blur) 0 var(--shadow-color);
	transition-property: border, box-shadow, background-color, filter, outline-offset, opacity, rotate, scale, z-index;
	transition-duration: 0.2s;
	filter: grayscale(100%) sepia(5%);
	mix-blend-mode: multiply;
	opacity: 0.69;
	scale: 0.85;
	rotate: var(--rotation, -4deg);
	outline: var(--outline-w) solid var(--preview-bg);
	outline-offset: var(--outline-w);
	min-height: var(--mobile--h-min);
	min-width: var(--mobile--w);
	width: var(--mobile--w);
	position: relative;
    overflow: hidden;
	animation-name: bg-scroll;
	animation-delay: var(--delay);
	animation-duration: var(--duration);
	animation-fill-mode: forwards;
}

.preview:has(.qa-content),
.preview:has(.my-thoughts-content) { /* ... same as before ... */
    background-image: none;
    background-color: var(--card-content-bg-default);
    filter: none;
    mix-blend-mode: initial;
    opacity: 1;
    animation: none;
    height: auto;
}

.preview:has(.qa-content) .qa-content,
.preview:has(.my-thoughts-content) .my-thoughts-content {
    color: var(--card-content-text-color);
}

/* HOVER & FOCUS STATES FOR ALL CARDS - same as before */
.preview:hover {
	--shadow-color: oklch(var(--gold));
	--border-color: var(--shadow-color);
    background-color: var(--preview-bg);
	mix-blend-mode: initial; filter: none; opacity: 1;
	outline-offset: calc(var(--outline-w) / 2);
	scale: 1; rotate: 0deg; z-index: 6;
}
.preview:focus-within {
	--shadow-color: oklch(var(--pink));
	--border-color: var(--shadow-color);
	mix-blend-mode: initial; filter: none; opacity: 1;
	outline-offset: calc(var(--outline-w) / 2);
	scale: 1; rotate: 0deg; z-index: 5;
}
.preview:hover:focus-within {
    --shadow-color: oklch(var(--mint));
	--border-color: var(--shadow-color);
    z-index: 7;
}

/* BACKGROUND COLOR CHANGES FOR CONTENT CARDS ON HOVER/FOCUS - same as before */
.preview:has(.qa-content):hover,
.preview:has(.my-thoughts-content):hover { background-color: oklch(var(--gold-light-bg)); }
.preview:has(.qa-content):focus-within,
.preview:has(.my-thoughts-content):focus-within { background-color: oklch(var(--pink-light-bg)); }
.preview:has(.qa-content):hover:focus-within,
.preview:has(.my-thoughts-content):hover:focus-within { background-color: oklch(var(--mint-light-bg)); }

/* Nth-of-type rules for rotation (applies to all cards) - same as before */
.preview:nth-of-type(1) { --rotation: -3deg; }
.preview:nth-of-type(2) { --rotation: 2deg; }
.preview:nth-of-type(3) { --rotation: -2deg; }
.preview:nth-of-type(4) { --rotation: 3deg; }
.preview:nth-of-type(5) { --rotation: -1deg; }
.preview:nth-of-type(6) { --rotation: 1deg; }
.preview:nth-of-type(7) { --rotation: -2.5deg; }
.preview:nth-of-type(8) { --rotation: 2.5deg; }

@keyframes bg-scroll { to { background-position-y: var(--bg-pos-y--end); } }

/* Q&A Content Styling */
.preview .qa-content {
    padding: 25px 20px;
    overflow-y: auto; /* Allows content to scroll if it exceeds min-height */
    height: 100%; /* Tries to fill the card's height */
    position: relative; /* Crucial for positioning the illustration */
    z-index: 1;
}
.preview .qa-content summary { /* ... same as before ... */
    font-weight: 600; cursor: pointer; padding: 10px 0; font-size: 1.15em;
    list-style: none; position: relative; display: flex; align-items: center;
}
.preview .qa-content summary::before { /* ... same as before ... */
    content: 'â–º'; margin-right: 10px; font-size: 0.7em; display: inline-block;
    transition: transform 0.2s ease-in-out; line-height: 1;
}
.preview .qa-content details[open] summary::before { transform: rotate(90deg); }
.preview .qa-content details[open] summary { margin-bottom: 12px; }
.preview .qa-content p { /* ... same as before ... */
    margin-top: 0; margin-bottom: 1.2em; line-height: 1.65; font-size: 0.95em;
    position: relative; /* To ensure text is above potential pseudo-elements if needed */
    z-index: 2; /* Text above illustration if it somehow overlaps */
}

/* NEW: Card Illustration Styling */
.card-illustration {
    position: absolute;
    bottom: 15px; /* Adjust as needed */
    right: 15px;  /* Adjust as needed */
    width: var(--card-illustration-size);
    height: var(--card-illustration-size);
    object-fit: contain; /* Scales image to fit while maintaining aspect ratio */
    opacity: var(--card-illustration-opacity);
    pointer-events: none; /* So it doesn't interfere with text selection or clicks */
    z-index: 1; /* Below text (z-index 2 on p), but above card background */
    transition: opacity 0.3s ease;
}

.preview:hover .card-illustration,
.preview:focus-within .card-illustration {
    opacity: calc(var(--card-illustration-opacity) + 0.2); /* Slightly less transparent on hover */
}


/* "My Thoughts" Card Content Styling - same as before */
.preview .my-thoughts-content {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    height: 100%; text-align: center; padding: 20px; position: relative; z-index: 1;
}
.preview .my-thoughts-content .question-mark {
    font-size: 10em; font-weight: bold; line-height: 1;
    color: var(--card-content-text-color); opacity: 0.7;
}
.preview .my-thoughts-content .thoughts-text {
    font-size: 1.5em; font-weight: 600; margin-top: 10px;
    color: var(--card-content-text-color);
}

.site-header { text-align: center; padding: 20px 0 40px 0; color: #e0e0e0; }
.site-header h1 { margin-bottom: 0.25em; font-size: 2.5em;}
.site-header p { font-size: 1.1em; }
footer { text-align: center; color: #ccc; padding: 40px 0 20px 0; font-size: 0.9em; }
