/* ... (Your existing CSS) ... */

/* --- Styles for Butterfly Integration in Header --- */
.site-header {
    padding: 1rem 1rem; /* Adjusted padding */
}

.header-content-wrapper {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    justify-content: space-around; /* Space out title and butterfly */
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
}

.title-area {
    flex-basis: 60%; /* Give more space to title */
    min-width: 300px; /* Ensure title doesn't get too squished */
    text-align: left; /* Align title left if preferred */
    padding: 1rem;
}
.site-header h1 {
    font-size: 2.5rem; /* Slightly adjust if needed */
    margin-bottom: 0.3rem;
}
.site-header .subtitle {
    font-size: 1.1rem; /* Slightly adjust if needed */
}


.butterfly-animation-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem;
    margin-top: 1rem; /* Space from title on wrap */
}

/* Make butterfly smaller if needed and center it */
.butterfly_container {
  width: 80px;  /* Original was 100px */
  height: 80px; /* Original was 100px */
  margin-bottom: 10px; /* Space before button */
  /* transform: scale(0.8); /* Alternative way to scale */
}
/* Adjust child elements if parent container size changed significantly */
.butterfly_container var {
  width: 80px;
  height: 80px;
}
.butterfly_container figure.butterfly {
  width: 80px;
  height: 80px;
}
.butterfly_container figure.butterfly .wing {
  /* width: 40px; /* Half of container width */
  /* height: 80px; */
  /* The SVG viewBox will scale content, this might not be needed unless aspect ratio changes */
}


.header-action-button { /* Style for the new butterfly button */
    background-color: var(--button-bg);
    color: var(--button-text);
    border: none;
    padding: 0.6em 1.2em;
    border-radius: 25px;
    cursor: pointer;
    font-family: var(--font-body);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: 0.8rem; /* Smaller button */
    transition: background-color 0.2s ease, transform 0.1s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin-top: 10px;
}
.header-action-button:hover {
    background-color: var(--button-hover-bg);
    transform: translateY(-1px);
}

/* Responsive adjustments for header */
@media (max-width: 768px) {
    .header-content-wrapper {
        flex-direction: column; /* Stack title and butterfly */
    }
    .title-area {
        text-align: center;
        flex-basis: 100%;
    }
    .site-header h1 {
        font-size: 2rem;
    }
    .butterfly-animation-area {
        margin-top: 1.5rem;
    }
}


/* --- Butterfly Animation CSS (APPEND THE FULL CSS YOU PROVIDED HERE) --- */
/* Inspired by https://codepen.io/htgmanics/pen/nJwdl */
@keyframes rotating {
  0% {
    -webkit-transform: rotate3d(0, 0, 0, 0deg);
    -moz-transform: rotate3d(0, 0, 0, 0deg);
    -ms-transform: rotate3d(0, 0, 0, 0deg);
    -o-transform: rotate3d(0, 0, 0, 0deg);
    transform: rotate3d(0, 0, 0, 0deg);
  }
  100% {
    -webkit-transform: rotate3d(0, 1, 0, 720deg);
    -moz-transform: rotate3d(0, 1, 0, 720deg);
    -ms-transform: rotate3d(0, 1, 0, 720deg);
    -o-transform: rotate3d(0, 1, 0, 720deg);
    transform: rotate3d(0, 1, 0, 720deg);
  }
}
@keyframes rotatingY {
  100% {
    -webkit-transform: rotateY(-360deg);
    -moz-transform: rotateY(-360deg);
    -ms-transform: rotateY(-360deg);
    -o-transform: rotateY(-360deg);
    transform: rotateY(-360deg);
  }
}
@keyframes fluttering {
  0%,
  25%,
  50%,
  75%,
  100% {
    -webkit-transform: translate3d(0, 0, 0);
    -moz-transform: translate3d(0, 0, 0);
    -ms-transform: translate3d(0, 0, 0);
    -o-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
  10%,
  60% {
    /* Adjusted fluttering height to be less extreme */
    -webkit-transform: translate3d(0, 20px, 0); 
    -moz-transform: translate3d(0, 20px, 0);
    -ms-transform: translate3d(0, 20px, 0);
    -o-transform: translate3d(0, 20px, 0);
    transform: translate3d(0, 20px, 0);
  }
  30%,
  80% {
    -webkit-transform: translate3d(0, 10px, 0);
    -moz-transform: translate3d(0, 10px, 0);
    -ms-transform: translate3d(0, 10px, 0);
    -o-transform: translate3d(0, 10px, 0);
    transform: translate3d(0, 10px, 0);
  }
}
@keyframes left-wing-flap {
  0% {
    -webkit-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
    -moz-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
    -ms-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
    -o-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
    transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
  }
  50% {
    -webkit-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, -70deg);
    -moz-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, -70deg);
    -ms-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, -70deg);
    -o-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, -70deg);
    transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, -70deg);
  }
  100% {
    -webkit-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
    -moz-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
    -ms-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
    -o-transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
    transform: translate3d(0, 0, 0) scaleX(1) rotate3d(0, 1, 0, 60deg);
  }
}
@keyframes right-wing-flap {
  0% {
    -webkit-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
    -moz-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
    -ms-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
    -o-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
    transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
  }
  50% {
    -webkit-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, -70deg);
    -moz-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, -70deg);
    -ms-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, -70deg);
    -o-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, -70deg);
    transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, -70deg);
  }
  100% {
    -webkit-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
    -moz-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
    -ms-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
    -o-transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
    transform: translate3d(0, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 60deg);
  }
}

.butterfly_container {
  /* width: 100px; /* Now handled by new styles above */
  /* height: 100px; */
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  -o-transform-style: preserve-3d;
  transform-style: preserve-3d;
}
.butterfly_container var {
  position: absolute;
  left: 0%; /* Should be 50% to center with margin-left -50% */
  top: 50%;
  /* width: 100px; /* Handled by new styles */
  /* height: 100px; */
  margin-left: -50%; /* Corrected from -50px to -50% of parent for dynamic sizing */
  margin-top: -50%;  /* Corrected from -50px to -50% of parent */
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  -o-transform-style: preserve-3d;
  transform-style: preserve-3d;
}
.butterfly_container var.rotate3d {
  -webkit-transform: rotate3d(1, 0.5, 0, 50deg);
  -moz-transform: rotate3d(1, 0.5, 0, 50deg);
  -ms-transform: rotate3d(1, 0.5, 0, 50deg);
  -o-transform: rotate3d(1, 0.5, 0, 50deg);
  transform: rotate3d(1, 0.5, 0, 50deg);
}
.butterfly_container var.translate3d {
  -webkit-animation: fluttering 10s ease-in-out infinite;
  -moz-animation: fluttering 10s ease-in-out infinite;
  -ms-animation: fluttering 10s ease-in-out infinite;
  -o-animation: fluttering 10s ease-in-out infinite;
  animation: fluttering 10s ease-in-out infinite;
}
.butterfly_container figure.butterfly {
  position: absolute;
  left: 50%;
  top: 50%;
  /* width: 100px; /* Handled by new styles */
  /* height: 100px; */
  margin-left: -50%;
  margin-top: -50%;
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  -o-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-transform-origin: 50% 50%;
  -moz-transform-origin: 50% 50%;
  -ms-transform-origin: 50% 50%;
  -o-transform-origin: 50% 50%;
  transform-origin: 50% 50%;
}
.butterfly_container figure.butterfly .wing {
  position: absolute;
  width: 50%; /* 50% of the figure.butterfly element */
  height: 100%;/* 100% of the figure.butterfly element */
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  -o-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-transform-origin: 50% 50%; /* Default, might need adjustment */
  -moz-transform-origin: 50% 50%;
  -ms-transform-origin: 50% 50%;
  -o-transform-origin: 50% 50%;
  transform-origin: 50% 50%;
  /* Removed static transform, handled by animations and right/left specific transforms */
}
.butterfly_container figure.butterfly .wing.right {
  /* transform-origin: 100% 50%; /* Hinge on the right edge of the wing's own box */
  /* The original `transform-origin: 50px 50px` was for a 100px container */
  transform-origin: 100% 50%; /* Assuming wing's 'body' side is at x=100% of its own box */

  -webkit-transform: translate3d(50%, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 45deg); /* Position right wing next to left */
  -moz-transform: translate3d(50%, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 45deg);
  -ms-transform: translate3d(50%, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 45deg);
  -o-transform: translate3d(50%, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 45deg);
  transform: translate3d(50%, 0, 0) scaleX(-1) rotate3d(0, 1, 0, 45deg);

  -webkit-animation: right-wing-flap 1s ease-in-out infinite;
  -moz-animation: right-wing-flap 1s ease-in-out infinite;
  -ms-animation: right-wing-flap 1s ease-in-out infinite;
  -o-animation: right-wing-flap 1s ease-in-out infinite;
  animation: right-wing-flap 1s ease-in-out infinite;
  filter: FlipH; /* Old IE */
  -ms-filter: "FlipH"; /* Old IE */
}
.butterfly_container figure.butterfly .wing.left {
  /* transform-origin: 0% 50%; /* Hinge on the left edge of the wing's own box */
  /* The original `transform-origin: 50px 50px` was for a 100px container */
  transform-origin: 0% 50%; /* Assuming wing's 'body' side is at x=0% of its own box */
  
  -webkit-transform: translate3d(0%, 0, 0) scaleX(1) rotate3d(0, 1, 0, 45deg); /* Position left wing */
  -moz-transform: translate3d(0%, 0, 0) scaleX(1) rotate3d(0, 1, 0, 45deg);
  -ms-transform: translate3d(0%, 0, 0) scaleX(1) rotate3d(0, 1, 0, 45deg);
  -o-transform: translate3d(0%, 0, 0) scaleX(1) rotate3d(0, 1, 0, 45deg);
  transform: translate3d(0%, 0, 0) scaleX(1) rotate3d(0, 1, 0, 45deg);

  -webkit-animation: left-wing-flap 1s ease-in-out infinite;
  -moz-animation: left-wing-flap 1s ease-in-out infinite;
  -ms-animation: left-wing-flap 1s ease-in-out infinite;
  -o-animation: left-wing-flap 1s ease-in-out infinite;
  animation: left-wing-flap 1s ease-in-out infinite;
}
.butterfly_container figure.butterfly .wing use {
  display: block;
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  -o-transform-style: preserve-3d;
  transform-style: preserve-3d;
  /* fill: url(#image); /* This was in example, but color is set on #main path */
}

.svg-defs { /* This class is on the main SVG definitions block */
  position: absolute;
  height: 0;
  width: 0;
  overflow: hidden; /* Ensure it's truly hidden */
}
