:root {
	--bg: 25% 0.0075 70;
	--pink: 77.75% 0.1003 350.51;
	--gold: 84.16% 0.1169 71.19;
	--mint: 84.12% 0.1334 165.28;
	--mobile--w: 360px;
	--mobile--h: 540px;
	--outline-w: 9px;
	--preview-bg: #fff;
}

body {
	height: 100%;
	background: linear-gradient(
		50deg,
		oklch(from oklch(var(--bg)) 50% c h),
		oklch(from oklch(var(--bg)) 90% c h)
	);
	background-attachment: fixed;
	padding: 3rem 10vw;
    font-family: sans-serif; /* Added a default font for better readability */
    box-sizing: border-box; /* Good practice */
}

*, *::before, *::after {
    box-sizing: inherit; /* Inherit box-sizing */
}

.preview__container {
	display: flex;
	flex-wrap: wrap;
	place-items: center;
	place-content: center;
	height: 100%;
    gap: 20px; /* Added some gap between cards */
}

/* fade out other cards when one is :hover/:focus-within */
.preview__container:has(:hover, :focus-within) .preview:not(:hover, :focus) {
	opacity: 0.4;
}

.preview {
	--bg-pos-y--start: 0;
	--bg-pos-y--end: 0;
	--bg-pos-y: var(--bg-pos-y--start);
	--delay: 0;
	--duration: 6s;
	--shadow-blur: 24px;
	--shadow-color: oklch(var(--bg));

	background-clip: padding-box;
	background-image: var(--img); /* This uses the --img from your inline style on the section */
	background-position-y: var(--bg-pos-y);
	background-repeat: no-repeat;
	background-size: cover;
	background-attachment: fixed;

	border: var(--outline-w) solid var(--border-color, transparent);
	border-radius: 6px;
	box-shadow: 0 0 var(--shadow-blur) 0 var(--shadow-color);

	transition-property: border, box-shadow, filter, outline-offset, opacity, rotate, scale, z-index;
	transition-duration: 0.15s, 0.15s, 0.6s, 0.6s, 0.3s, 0.3s, 0.3s, 0.15s;

	filter: grayscale(100%) sepia(5%);
	mix-blend-mode: multiply;
	opacity: 0.69;

	scale: 0.85;
	rotate: var(--rotation, -4deg);

	outline: var(--outline-w) solid var(--preview-bg);
	outline-offset: var(--outline-w);

	min-height: var(--mobile--h);
	height: 100%; /* This might be better as var(--mobile--h) if they are fixed height */
	min-width: var(--mobile--w);
	width: 100%; /* This might be better as var(--mobile--w) */
	position: relative;
    overflow: hidden; /* To contain the qa-content nicely */

	animation-name: bg-scroll;
	animation-delay: var(--delay);
	animation-duration: var(--duration);
	animation-fill-mode: forwards;
}

.preview:focus-within,
.preview:hover {
	--shadow-blur: 200px;
	--shadow-color: oklch(var(--gold));
	--border-color: var(--shadow-color);

	background-color: white;
	mix-blend-mode: initial;
	filter: none;
	opacity: 1;
	outline-offset: calc(var(--outline-w) / 2);
	scale: 1;
	rotate: 0deg;

	transition-property: border, box-shadow, filter, outline-offset, opacity, rotate, scale, z-index;
	transition-duration: 0.15s, 0.15s, 0.3s, 0.3s, 0.3s, 0.3s, 0.3s, 0.15s;
}

.preview:focus-within {
	--shadow-color: oklch(var(--pink));
	z-index: 5;
}

.preview:hover {
	z-index: 6;
}
.preview:hover:focus {
	--shadow-color: oklch(var(--mint));
}

.preview.mobile {
	max-height: var(--mobile--h);
	max-width: var(--mobile--w);
    /* Explicitly set width and height for the mobile class if they should be fixed size */
    width: var(--mobile--w);
    height: var(--mobile--h);
}

.preview:nth-of-type(2) {
	--bg-pos-y--end: calc(var(--mobile--h) * -1.025);
	--rotation: 3deg;
}

.preview:nth-of-type(3) {
	--bg-pos-y--end: calc(var(--mobile--h) * -2.25);
	--duration: 6.5s;
	--rotation: -1deg;
}

.preview:nth-of-type(4) {
	--bg-pos-y--end: calc(var(--mobile--h) * -3.75);
	--duration: 6.75s;
	--rotation: -5deg;
}

.preview:nth-of-type(5) {
	--bg-pos-y--end: calc(var(--mobile--h) * -4.82);
	--duration: 7s;
	--rotation: -2deg;
}

.preview:nth-of-type(6) {
	--bg-pos-y--end: calc(var(--mobile--h) * -5.85);
	--duration: 7.25s;
	--rotation: 2deg;
}

.preview:nth-of-type(7) {
	--bg-pos-y--end: calc(var(--mobile--h) * -7.21);
	--duration: 7.5s;
	--rotation: 4deg;
}

/* preview-scroll */
@keyframes bg-scroll {
	to {
		background-position-y: var(--bg-pos-y--end);
	}
}

/* -------------------------------------------------- */
/* Styles for Q&A content inside the .preview cards */
/* -------------------------------------------------- */

.preview .qa-content {
    padding: 20px;
    /*
       Text color management:
       Initially, the card has filters (grayscale, sepia) and mix-blend-mode: multiply.
       This makes light text hard to read and dark text also blend in.
       When :hover or :focus-within, these filters are removed and background becomes white-ish.
    */
    color: #333; /* Default text color, will be affected by initial filters */
    overflow-y: auto; /* Allow scrolling if content is too long for the card height */
    height: 100%; /* Fill the card height */
    /* box-sizing: border-box; is inherited from body now */
    position: relative; /* To ensure it's above the animated background */
    z-index: 1; /* To ensure it's above the animated background */
}

/* When card is active (hover/focus), filters are off, background is light */
.preview:hover .qa-content,
.preview:focus-within .qa-content {
    color: #000; /* Dark text on light background for readability */
}

.preview .qa-content summary {
    font-weight: bold;
    cursor: pointer;
    padding: 8px 0; /* Adjusted padding */
    font-size: 1.1em;
    list-style: none; /* Remove default disclosure triangle if you want to style your own */
    position: relative; /* For custom marker */
}

/* Optional: Style for the details marker (triangle) */
.preview .qa-content summary::before {
    content: 'â–º '; /* Default closed state */
    margin-right: 5px;
    font-size: 0.8em;
    display: inline-block;
    transition: transform 0.2s ease-in-out;
}

.preview .qa-content details[open] summary::before {
    transform: rotate(90deg); /* Open state */
}


.preview .qa-content details[open] summary {
    margin-bottom: 10px;
}

.preview .qa-content p {
    margin-top: 0;
    margin-bottom: 1em; /* Add some space below paragraphs */
    line-height: 1.5; /* Adjusted line height for readability */
    font-size: 0.95em;
}

/* Styling for other site elements if you have them */
.site-header {
    text-align: center;
    padding: 20px 0 40px 0; /* Added more bottom padding */
    color: #e0e0e0; /* Lighter color for better contrast on dark body background */
}

.site-header h1 {
    margin-bottom: 0.25em;
}

footer {
    text-align: center;
    color: #ccc;
    padding: 40px 0 20px 0; /* Added more top padding */
    font-size: 0.9em;
}
