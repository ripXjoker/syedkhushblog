:root {
	--bg: 25% 0.0075 70;
	--pink: 77.75% 0.1003 350.51;
	--gold: 84.16% 0.1169 71.19;
	--mint: 84.12% 0.1334 165.28;
	--mobile--w: 360px;
	--mobile--h: 540px; /* You might want to make this auto or min-height if content varies */
	--outline-w: 9px;
	--preview-bg: #fff; /* Used for outline and default bright card bg on hover */

    /* NEW: Custom property for the background of Q&A cards */
    --card-content-bg: #f0f0f0; /* A light grey, change as you like (e.g., #ffffff for white) */
    --card-content-text-color: #222222; /* Dark text for light background */
}

body {
	height: 100%;
	background: linear-gradient(
		50deg,
		oklch(from oklch(var(--bg)) 50% c h),
		oklch(from oklch(var(--bg)) 90% c h)
	);
	background-attachment: fixed;
	padding: 3rem 10vw;
    font-family: sans-serif;
    box-sizing: border-box;
}

*, *::before, *::after {
    box-sizing: inherit;
}

.preview__container {
	display: flex;
	flex-wrap: wrap;
	place-items: start; /* Align items to the start if height is variable */
	place-content: center;
	/* height: 100%; */ /* Comment out or adjust if cards have variable height */
    gap: 30px; /* Increased gap a bit */
}

.preview {
	--bg-pos-y--start: 0;
	--bg-pos-y--end: 0;
	--bg-pos-y: var(--bg-pos-y--start);
	--delay: 0;
	--duration: 6s;
	--shadow-blur: 24px;
	--shadow-color: oklch(var(--bg));

	background-clip: padding-box;
    /* Default background properties - will be overridden for Q&A cards */
	background-image: var(--img);
	background-position-y: var(--bg-pos-y);
	background-repeat: no-repeat;
	background-size: cover;
	background-attachment: fixed;

	border: var(--outline-w) solid var(--border-color, transparent);
	border-radius: 6px;
	box-shadow: 0 0 var(--shadow-blur) 0 var(--shadow-color);

	transition-property: border, box-shadow, filter, outline-offset, opacity, rotate, scale, z-index;
	transition-duration: 0.15s, 0.15s, 0.6s, 0.6s, 0.3s, 0.3s, 0.3s, 0.15s;

    /* Default filter properties - will be overridden for Q&A cards */
	filter: grayscale(100%) sepia(5%);
	mix-blend-mode: multiply;
	opacity: 0.69;

	scale: 0.85;
	rotate: var(--rotation, -4deg);

	outline: var(--outline-w) solid var(--preview-bg);
	outline-offset: var(--outline-w);

	min-height: var(--mobile--h); /* Use min-height to allow content to expand */
    /* height: var(--mobile--h); */ /* Or set fixed height if preferred */
	min-width: var(--mobile--w);
	width: var(--mobile--w);
	position: relative;
    overflow: hidden;

	animation-name: bg-scroll;
	animation-delay: var(--delay);
	animation-duration: var(--duration);
	animation-fill-mode: forwards;
}


/* --- STYLES SPECIFICALLY FOR CARDS CONTAINING Q&A CONTENT --- */
.preview:has(.qa-content) {
    background-image: none; /* << NO animated image for Q&A cards */
    background-color: var(--card-content-bg); /* << Solid background for Q&A cards */
    filter: none;               /* << NO filter by default for Q&A cards */
    mix-blend-mode: initial;    /* << Normal blend mode for Q&A cards */
    opacity: 1;                 /* << Fully visible by default for Q&A cards */
    animation: none;            /* << NO bg-scroll animation for Q&A cards */
    height: auto;               /* Allow card to grow with content */
}

/* Text content within Q&A cards */
.preview:has(.qa-content) .qa-content {
    color: var(--card-content-text-color); /* Readable text color */
}
/* --- END OF Q&A SPECIFIC CARD STYLES --- */


/* Hover and Focus states - these apply to ALL .preview cards */
.preview:focus-within,
.preview:hover {
	--shadow-blur: 200px;
	--shadow-color: oklch(var(--gold)); /* Gold shadow on hover */
	--border-color: var(--shadow-color); /* Gold border on hover */

    /* For cards that AREN'T Q&A cards, make their background white on hover */
    background-color: var(--preview-bg); /* This makes non-QA cards white on hover */
	mix-blend-mode: initial;
	filter: none;
	opacity: 1;
	outline-offset: calc(var(--outline-w) / 2);
	scale: 1;
	rotate: 0deg;

	transition-property: border, box-shadow, filter, outline-offset, opacity, rotate, scale, z-index;
	transition-duration: 0.15s, 0.15s, 0.3s, 0.3s, 0.3s, 0.3s, 0.3s, 0.15s;
}

/* Specific focus color still applies */
.preview:focus-within {
	--shadow-color: oklch(var(--pink)); /* Pink shadow on focus */
	--border-color: var(--shadow-color); /* Pink border on focus */
	z-index: 5;
}

/* Specific hover-focus combined color */
.preview:hover:focus {
	--shadow-color: oklch(var(--mint)); /* Mint shadow on hover+focus */
    --border-color: var(--shadow-color); /* Mint border on hover+focus */
}

/* Ensure Q&A cards also get the bright border/shadow on hover/focus, but keep their content background */
.preview:has(.qa-content):hover,
.preview:has(.qa-content):focus-within {
    background-color: var(--card-content-bg); /* Keep its defined content background */
    /* The border and shadow color changes will be inherited from the general .preview:hover rules */
}


.preview.mobile { /* This class might not be strictly needed if all previews are mobile size */
	max-height: none; /* Allow to grow if height is auto */
	/* max-height: var(--mobile--h); */ /* Or cap it if you use fixed height */
	max-width: var(--mobile--w);
}

/* Nth-of-type rules for rotation and animation vars still apply to ALL cards, */
/* but animation itself is disabled for Q&A cards. Rotation will still work. */
.preview:nth-of-type(2) { /* ... and so on for other nth-of-type rules ... */
	--bg-pos-y--end: calc(var(--mobile--h) * -1.025);
	--rotation: 3deg;
}
/* (Keep all your other .preview:nth-of-type rules here) */
.preview:nth-of-type(3) {
	--bg-pos-y--end: calc(var(--mobile--h) * -2.25);
	--duration: 6.5s;
	--rotation: -1deg;
}
.preview:nth-of-type(4) {
	--bg-pos-y--end: calc(var(--mobile--h) * -3.75);
	--duration: 6.75s;
	--rotation: -5deg;
}
.preview:nth-of-type(5) {
	--bg-pos-y--end: calc(var(--mobile--h) * -4.82);
	--duration: 7s;
	--rotation: -2deg;
}
.preview:nth-of-type(6) {
	--bg-pos-y--end: calc(var(--mobile--h) * -5.85);
	--duration: 7.25s;
	--rotation: 2deg;
}
.preview:nth-of-type(7) {
	--bg-pos-y--end: calc(var(--mobile--h) * -7.21);
	--duration: 7.5s;
	--rotation: 4deg;
}


@keyframes bg-scroll {
	to {
		background-position-y: var(--bg-pos-y--end);
	}
}

/* Styles for Q&A content inside the .preview cards */
.preview .qa-content {
    padding: 25px 20px; /* Slightly more vertical padding */
    overflow-y: auto;
    height: 100%; /* If card height is fixed, this helps. If auto, might not be needed. */
    position: relative;
    z-index: 1;
}

.preview .qa-content summary {
    font-weight: bold;
    cursor: pointer;
    padding: 8px 0;
    font-size: 1.1em;
    list-style: none;
    position: relative;
}

.preview .qa-content summary::before {
    content: 'â–º ';
    margin-right: 8px; /* More space for marker */
    font-size: 0.8em;
    display: inline-block;
    transition: transform 0.2s ease-in-out;
}

.preview .qa-content details[open] summary::before {
    transform: rotate(90deg);
}

.preview .qa-content details[open] summary {
    margin-bottom: 12px; /* More space after open summary */
}

.preview .qa-content p {
    margin-top: 0;
    margin-bottom: 1em;
    line-height: 1.6; /* Good line height for reading */
    font-size: 1em;   /* Standardized paragraph font size */
}

/* Other site elements */
.site-header { /* ... your site header styles ... */ }
footer { /* ... your footer styles ... */ }
